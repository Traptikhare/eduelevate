<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <title>Login Test - EduElevate</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50 p-8">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-3xl font-bold text-indigo-700 mb-6">ğŸ” Login System Test</h1>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Quick Login Buttons -->
        <div class="bg-white p-6 rounded-lg shadow">
          <h2 class="text-xl font-semibold mb-4">Quick Login</h2>
          <div class="space-y-3">
            <button onclick="loginStudent()" class="w-full px-4 py-3 bg-indigo-600 text-white rounded">
              ğŸ‘¨â€ğŸ“ Login as Student
            </button>
            <button onclick="loginAdmin()" class="w-full px-4 py-3 bg-purple-600 text-white rounded">
              ğŸ‘¨â€ğŸ’¼ Login as Admin
            </button>
            <button onclick="logout()" class="w-full px-4 py-3 bg-red-600 text-white rounded">
              ğŸšª Logout
            </button>
          </div>
        </div>

        <!-- Current Status -->
        <div class="bg-white p-6 rounded-lg shadow">
          <h2 class="text-xl font-semibold mb-4">Current Status</h2>
          <div id="status" class="space-y-2">
            <p class="text-gray-600">Loading...</p>
          </div>
        </div>

        <!-- Test Links -->
        <div class="bg-white p-6 rounded-lg shadow md:col-span-2">
          <h2 class="text-xl font-semibold mb-4">Test Navigation</h2>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <a href="index.html" class="px-4 py-2 bg-blue-500 text-white rounded text-center">Home</a>
            <a href="login.html" class="px-4 py-2 bg-green-500 text-white rounded text-center">Login Page</a>
            <a href="register.html" class="px-4 py-2 bg-yellow-500 text-white rounded text-center">Register</a>
            <a href="opportunities.html" class="px-4 py-2 bg-indigo-500 text-white rounded text-center">Opportunities</a>
            <a href="admin.html" class="px-4 py-2 bg-purple-500 text-white rounded text-center">Admin</a>
            <a href="resume-builder.html" class="px-4 py-2 bg-pink-500 text-white rounded text-center">Resume</a>
            <a href="tracker.html" class="px-4 py-2 bg-orange-500 text-white rounded text-center">Tracker</a>
            <a href="hostel-finder.html" class="px-4 py-2 bg-teal-500 text-white rounded text-center">Hostels</a>
          </div>
        </div>

        <!-- localStorage Inspector -->
        <div class="bg-white p-6 rounded-lg shadow md:col-span-2">
          <h2 class="text-xl font-semibold mb-4">localStorage Inspector</h2>
          <div id="localStorage" class="bg-gray-50 p-4 rounded text-sm font-mono overflow-auto max-h-64">
            Loading...
          </div>
          <button onclick="clearStorage()" class="mt-3 px-4 py-2 bg-red-500 text-white rounded">
            Clear All Data
          </button>
        </div>
      </div>
    </div>

    <script>
      function loginStudent() {
        localStorage.setItem('eduUser', JSON.stringify({
          email: 'student@test.com',
          role: 'student'
        }));
        updateStatus();
        alert('âœ… Logged in as Student!\nNow you can visit Opportunities page.');
      }

      function loginAdmin() {
        localStorage.setItem('eduUser', JSON.stringify({
          email: 'admin@test.com',
          role: 'admin'
        }));
        updateStatus();
        alert('âœ… Logged in as Admin!\nNow you can visit Admin Dashboard.');
      }

      function logout() {
        localStorage.removeItem('eduUser');
        updateStatus();
        alert('ğŸšª Logged out successfully!');
      }

      function clearStorage() {
        if (confirm('Clear ALL localStorage data?')) {
          localStorage.clear();
          updateStatus();
          updateLocalStorage();
          alert('ğŸ—‘ï¸ All data cleared!');
        }
      }

      function updateStatus() {
        const user = JSON.parse(localStorage.getItem('eduUser') || 'null');
        const statusDiv = document.getElementById('status');
        
        if (user) {
          statusDiv.innerHTML = `
            <div class="border-l-4 border-green-500 bg-green-50 p-3 rounded">
              <p class="font-semibold text-green-800">âœ… Logged In</p>
              <p class="text-sm text-green-700">Email: ${user.email}</p>
              <p class="text-sm text-green-700">Role: ${user.role}</p>
            </div>
          `;
        } else {
          statusDiv.innerHTML = `
            <div class="border-l-4 border-red-500 bg-red-50 p-3 rounded">
              <p class="font-semibold text-red-800">âŒ Not Logged In</p>
              <p class="text-sm text-red-700">Use quick login buttons or go to login page</p>
            </div>
          `;
        }
      }

      function updateLocalStorage() {
        const storageDiv = document.getElementById('localStorage');
        const data = {};
        
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          data[key] = localStorage.getItem(key);
        }
        
        storageDiv.textContent = JSON.stringify(data, null, 2);
      }

      // Update every second
      setInterval(() => {
        updateStatus();
        updateLocalStorage();
      }, 1000);

      // Initial update
      updateStatus();
      updateLocalStorage();
    </script>
  </body>
</html>
