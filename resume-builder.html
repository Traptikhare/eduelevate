<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <title>Resume Builder â€” EduElevate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <style>body{font-family:'Inter',sans-serif;}h1,h2,h3{font-family:'Poppins',sans-serif;}</style>
  </head>
  <body class="bg-gray-50">
    <header class="bg-white shadow">
      <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
        <a href="index.html" class="flex items-center gap-4">
          <img src="assets/logo.svg" alt="EduElevate" class="h-10" />
        </a>
        <nav class="hidden md:flex gap-6">
          <a href="opportunities.html" class="text-gray-700">Opportunities</a>
          <a href="resume-builder.html" class="text-indigo-600">Resume Builder</a>
          <span id="userInfo" class="text-gray-600"></span>
          <button id="logoutBtn" class="text-red-600 hidden">Logout</button>
        </nav>
      </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-12">
      <h2 class="text-3xl font-bold text-indigo-700 mb-6">ðŸ“„ Resume Builder</h2>
      <p class="text-gray-700 mb-6">Create a professional resume with guided forms and export as PDF.</p>

      <div class="bg-white p-8 rounded-lg shadow">
        <form id="resumeForm" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-gray-600 mb-1">Full Name *</label>
              <input id="name" class="w-full border rounded px-3 py-2" required />
            </div>
            <div>
              <label class="block text-sm text-gray-600 mb-1">Email *</label>
              <input id="email" type="email" class="w-full border rounded px-3 py-2" required />
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-gray-600 mb-1">Phone</label>
              <input id="phone" class="w-full border rounded px-3 py-2" />
            </div>
            <div>
              <label class="block text-sm text-gray-600 mb-1">Location</label>
              <input id="location" class="w-full border rounded px-3 py-2" placeholder="City, State" />
            </div>
          </div>
          <div>
            <label class="block text-sm text-gray-600 mb-1">Professional Summary</label>
            <textarea id="summary" class="w-full border rounded px-3 py-2" rows="3" placeholder="Brief intro about yourself"></textarea>
          </div>
          <div>
            <label class="block text-sm text-gray-600 mb-1">Education</label>
            <textarea id="education" class="w-full border rounded px-3 py-2" rows="3" placeholder="B.Tech in Computer Science, XYZ University, 2023-2027"></textarea>
          </div>
          <div>
            <label class="block text-sm text-gray-600 mb-1">Skills (comma-separated)</label>
            <input id="skills" class="w-full border rounded px-3 py-2" placeholder="Python, React, SQL, Communication" />
          </div>
          <div>
            <label class="block text-sm text-gray-600 mb-1">Experience / Projects</label>
            <textarea id="experience" class="w-full border rounded px-3 py-2" rows="4" placeholder="Describe your internships, projects, achievements"></textarea>
          </div>
          <div class="flex gap-4">
            <button type="button" id="previewBtn" class="px-6 py-3 bg-gray-200 text-gray-700 rounded">Preview</button>
            <button type="submit" class="px-6 py-3 bg-indigo-600 text-white rounded">Save Resume</button>
          </div>
          <div id="successMsg" class="text-green-600 text-sm hidden"></div>
        </form>
      </div>

      <div id="preview" class="hidden mt-8 bg-white p-8 rounded-lg shadow">
        <h3 class="text-xl font-semibold mb-4">Preview</h3>
        <div id="previewContent" class="space-y-3 text-sm"></div>
        <button id="downloadBtn" class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded">Download as PDF (Demo)</button>
      </div>
    </main>

    <script>
      const user = JSON.parse(localStorage.getItem('eduUser') || 'null');
      if (user) {
        document.getElementById('userInfo').textContent = user.email;
        document.getElementById('logoutBtn').classList.remove('hidden');
        document.getElementById('logoutBtn').addEventListener('click', () => {
          localStorage.removeItem('eduUser');
          window.location.href = 'login.html';
        });
      }

      document.getElementById('previewBtn').addEventListener('click', () => {
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const location = document.getElementById('location').value;
        const summary = document.getElementById('summary').value;
        const education = document.getElementById('education').value;
        const skills = document.getElementById('skills').value;
        const experience = document.getElementById('experience').value;

        const content = `
          <div><strong>Name:</strong> ${name}</div>
          <div><strong>Email:</strong> ${email} | <strong>Phone:</strong> ${phone}</div>
          <div><strong>Location:</strong> ${location}</div>
          <hr class="my-3" />
          <div><strong>Summary:</strong> ${summary}</div>
          <hr class="my-3" />
          <div><strong>Education:</strong> ${education}</div>
          <hr class="my-3" />
          <div><strong>Skills:</strong> ${skills}</div>
          <hr class="my-3" />
          <div><strong>Experience/Projects:</strong> ${experience}</div>
        `;
        document.getElementById('previewContent').innerHTML = content;
        document.getElementById('preview').classList.remove('hidden');
      });

      document.getElementById('resumeForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const resumeData = {
          name: document.getElementById('name').value,
          email: document.getElementById('email').value,
          phone: document.getElementById('phone').value,
          location: document.getElementById('location').value,
          summary: document.getElementById('summary').value,
          education: document.getElementById('education').value,
          skills: document.getElementById('skills').value,
          experience: document.getElementById('experience').value
        };
        localStorage.setItem('eduResume', JSON.stringify(resumeData));
        document.getElementById('successMsg').textContent = 'Resume saved successfully!';
        document.getElementById('successMsg').classList.remove('hidden');
        setTimeout(() => document.getElementById('successMsg').classList.add('hidden'), 3000);
      });

      document.getElementById('downloadBtn').addEventListener('click', () => {
        alert('PDF download feature (Demo). In production, use jsPDF or server-side generation.');
      });

      // Load saved resume if exists
      const saved = localStorage.getItem('eduResume');
      if (saved) {
        const data = JSON.parse(saved);
        document.getElementById('name').value = data.name || '';
        document.getElementById('email').value = data.email || '';
        document.getElementById('phone').value = data.phone || '';
        document.getElementById('location').value = data.location || '';
        document.getElementById('summary').value = data.summary || '';
        document.getElementById('education').value = data.education || '';
        document.getElementById('skills').value = data.skills || '';
        document.getElementById('experience').value = data.experience || '';
      }
    </script>
  </body>
</html>